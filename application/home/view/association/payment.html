{extend name='public/common'}
{block name='style'}
<title>我要报名</title>
<link rel="stylesheet" href="/home/css/association/payment.css">
{/block}
{block name='body'}

<!-- 课程报名-->
<div class="lists">
    <div class="title">课程报名</div>
    <div class="content">
        <div class="titlePriceNum">
            <div class="titlePrice clearfix">
                <div class="fl">{$data.course_name}</div>
                <div class="price fr">￥<span>{$data.price}</span></div>
            </div>
            <div class="num">节数：{$data.num}</div>
        </div>
        <div class="line"></div>
        <div class="address">
            <a href="javascript:;" class="clearfix">
                <i class="fl"></i>
                <span class="fl">{$venue.address}</span>
            </a>
        </div>
    </div>
</div>

<!-- 人员信息-->
<div class="lists">
    <div class="title">人员信息</div>
    <div class="content">
        <ul>
            <li class="clearfix">
                <div class="name fl">姓名</div>
                <input type="text" value="{$model.name}" disabled class="fr">
            </li>
            <li class="clearfix active">
                <div class="name fl">出生日期</div>
                <input type="text" value="{$model.birthday}" disabled class="fr">
            </li>
            <li class="clearfix">
                <div class="name fl">性别</div>
                <input type="text" value="{eq name='$model.gender' value='2'}女{else/}男{/eq}" disabled class="fr">
            </li>
            <li class="clearfix active">
                <div class="name fl">监护人电话</div>
                <input type="text" value="{$model.guardian_mobile}" disabled class="fr">
            </li>
            <li class="clearfix active">
                <div class="name fl">身份证号</div>
                <input type="text" value="{$model.identity}" disabled class="fr">
            </li>
            <li class="clearfix active">
                <div class="name fl">家庭住址</div>
                <input type="text" value="{$model.address}" disabled class="fr">
            </li>
        </ul>
    </div>
</div>

<!-- 备注-->
<div class="lists">
    <div class="title">备注</div>
    <div class="content">
        <textarea name="" id="" placeholder="请填写相关备注"></textarea>
    </div>
</div>

<!-- 应付款-->
<div class="lists">
    <div class="title">应付款</div>
    <div class="pay">
        价格：<span>￥</span><span>{$data.price}</span>
    </div>
</div>

<div class="btn">
    <!-- 去付款-->
    <a href="javascript:;" class="payMoney">去付款</a>
</div>

<!-- map-->
<div class="mapChoose">
    <div class="shadow"></div>
    <div class="mapList">
        <a href="http://api.map.baidu.com/marker?location={$venue.lat},{$venue.lng}&title={$venue.address}&content={$venue.address}&output=html">百度地图</a>
        <a href="https://uri.amap.com/marker?position={$venue.lng},{$venue.lat}&name={$venue.address}">高德地图</a>
        <a href="javascript:;" class="mapBack">取消</a>
    </div>
</div>


<div class="showbox">
    <div class="loader">
        <svg class="circular" viewBox="25 25 50 50">
            <circle class="path" cx="50" cy="50" r="20" fill="none" stroke-width="2" stroke-miterlimit="10"/>
        </svg>
    </div>
</div>

{/block}
{block name='script'}

<script>

    /*
     * 地图跳转
     * */

    $(".address a").on("click", function () {
        $(".mapChoose").show();
    });

    $(".mapChoose .shadow").on("click", function () {
        $(".mapChoose").hide();
    });

    /*
    * 去付款
    * */
    $(".payMoney").on('click', function () {
        $.ajax({
            url: '',
            type: 'post',
            data: {
                id: id,
                remark: $('textarea').val()
            },
            beforeSend: function(XMLHttpRequest){
                $(".showbox").show();
            },
            success: function (msg) {
                $(".showbox").hide();
                window.location.href = ''
            }
        })
    });

</script>

{/block}